{"version":3,"sources":["webpack:///./src/views/Login.vue?5eb3","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?04f8","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?9f4b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","ref","attrs","model","ruleForm","rules","label-width","prop","label","placeholder","value","callback","$$v","$set","expression","type","nativeOn","keyup","$event","indexOf","_k","keyCode","key","submitLogin","on","click","_v","register","staticRenderFns","staticStyle","font","href","target","Loginvue_type_script_lang_js_","name","data","account","password","required","message","trigger","methods","formName","self","$refs","validate","valid","$message","localStorage","setItem","$axios","post","then","response","result","status","$router","push","catch","err","console","error","log","views_Loginvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_8f23afba_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_8f23afba_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-9bfda42c.48a14e6f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-wrap\"},[_c('div',{staticClass:\"page-main\"},[_vm._m(0),_c('div',{staticClass:\"ms-login\"},[_c('div',{staticClass:\"login-form\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"50px\"}},[_c('el-form-item',{attrs:{\"prop\":\"account\",\"label\":\"账号\"}},[_c('el-input',{attrs:{\"placeholder\":\"账号\"},model:{value:(_vm.ruleForm.account),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"account\", $$v)},expression:\"ruleForm.account\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\",\"label\":\"密码\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitLogin('ruleForm')}},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1)],1)],1),_c('div',{staticClass:\"login-btn\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitLogin('ruleForm')}}},[_vm._v(\"登录\")]),_c('el-button',{attrs:{\"type\":\"plain\"},on:{\"click\":_vm.register}},[_vm._v(\"注册\")])],1)])]),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ms-title\"},[_c('span',{staticStyle:{\"font\":\"48px '华文行楷'\"}},[_vm._v(\"Hi~Story\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-footer\"},[_c('span',{staticClass:\"academy\"},[_c('a',{attrs:{\"href\":\"http://rsgis.whu.edu.cn/\",\"target\":\"_blank\"}},[_vm._v(\"武汉大学遥感信息工程学院\")]),_vm._v(\" | 笃志 敦行 和协 拓新\")]),_c('span',{staticClass:\"address\"},[_vm._v(\"中国 湖北 武汉市 珞喻路129号 武汉大学信息学部\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-wrap\">\r\n\r\n    <div class=\"page-main\">\r\n      <div class=\"ms-title\">\r\n        <span style=\"font: 48px '华文行楷'\">Hi~Story</span>\r\n      </div>\r\n      <div class=\"ms-login\">\r\n        <div class=\"login-form\">\r\n          <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"50px\" class=\"demo-ruleForm\">\r\n            <el-form-item prop=\"account\" label=\"账号\">\r\n              <el-input v-model=\"ruleForm.account\" placeholder=\"账号\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"password\" label=\"密码\">\r\n              <el-input type=\"password\" placeholder=\"密码\" v-model=\"ruleForm.password\" @keyup.enter.native=\"submitLogin('ruleForm')\"></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n\r\n        </div>\r\n        <div class=\"login-btn\">\r\n          <el-button type=\"primary\" @click=\"submitLogin('ruleForm')\">登录</el-button>\r\n          <el-button type=\"plain\" @click=\"register\">注册</el-button>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"page-footer\">\r\n      <span class=\"academy\"><a href=\"http://rsgis.whu.edu.cn/\" target=\"_blank\">武汉大学遥感信息工程学院</a> | 笃志 敦行 和协 拓新</span>\r\n      <span class=\"address\">中国 湖北 武汉市 珞喻路129号 武汉大学信息学部</span>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'login',\r\n  data() {\r\n    return {\r\n      ruleForm: {\r\n        account: '',\r\n        password: ''\r\n      },\r\n      // 规则：el-form :rules=\"rules\"，绑定于el-form-item的prop属性值\r\n      rules: {\r\n        account: [\r\n          { required: true, message: '请输入账号', trigger: 'change' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'change' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    submitLogin(formName) {\r\n      const self = this;\r\n\r\n      self.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          \r\n          localStorage.setItem('account', self.ruleForm.account);\r\n\r\n          self.$axios.post('/api/user/login', {\r\n            account: self.ruleForm.account,\r\n            password: self.ruleForm.password\r\n          }).then( response => {\r\n            const result = response.data;\r\n            if (result.status === 200) {\r\n              self.$message({\r\n                message: '欢迎你 ' + result.name,\r\n                type: 'success'\r\n              });\r\n\r\n              // 设置缓存\r\n              localStorage.setItem('user_name', result.name);\r\n\r\n              // 推送到首页\r\n              self.$router.push('/dashboard');\r\n\r\n            } else if (result.status === 403) {\r\n              self.$message({\r\n                message: result.message,\r\n                type: 'error'\r\n              });\r\n            } else if (result.status === 404) {\r\n              self.$message({\r\n                message: result.message,\r\n                type: 'warning'\r\n              });\r\n            } else {\r\n              self.$message({\r\n                message: '登录失败，状态码: ' + result.status,\r\n                type: 'error'\r\n              });\r\n            }\r\n          }).catch( err => {\r\n            if (err) {\r\n              console.error(err);\r\n              return self.$message({\r\n                message: err,\r\n                type: 'error'\r\n              });\r\n            }\r\n          }); //axios\r\n\r\n        } else {\r\n          return self.$message({\r\n            message: '请注意表单填写规范',\r\n            type: 'warning'\r\n          });\r\n        }\r\n      });\r\n    },\r\n    register() {\r\n      console.log('注册');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbody {\r\n  margin: 0;\r\n}\r\n.login-wrap{\r\n  text-align: center;\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  color: #607d8b;\r\n  background: rgb(0, 0, 0) url('../../public/img/login-bkg.jpg') no-repeat fixed center;\r\n  background-size: 100% 100%;\r\n  opacity: 0.8;\r\n}\r\n\r\n.page-main {\r\n  position: absolute;\r\n  top: 45%;\r\n  left: 50%;\r\n  transform: translate(-50%,-50%);\r\n  background-color: white;\r\n\r\n  width: 25%; min-width: 250px; max-width: 320px;\r\n  height: 230px;\r\n\r\n  padding: 2%;\r\n  border-radius: 10%;\r\n}\r\n\r\n.page-footer {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 50%;\r\n  transform: translate(-50%, 0);\r\n}\r\n\r\n.ms-title {\r\n  position: absolute;\r\n  height: 20%;\r\n  padding: 5%;\r\n  top: 5%;\r\n  left: 50%;\r\n  transform: translate(-50%, 0);\r\n}\r\n\r\n.login-btn {\r\n  position: absolute;\r\n  padding: 5% 0;\r\n  top: 100%;\r\n  left: 50%;\r\n  transform: translate(-50%, -100%);\r\n}\r\n\r\n.login-form {\r\n  position: absolute;\r\n  padding: 0;\r\n  top: 60%;\r\n  left: 50%;\r\n  width: 75%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=8f23afba&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=8f23afba&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8f23afba\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=8f23afba&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=8f23afba&scoped=true&lang=css&\""],"sourceRoot":""}