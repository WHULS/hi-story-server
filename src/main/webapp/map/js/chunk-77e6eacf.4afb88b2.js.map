{"version":3,"sources":["webpack:///./src/views/mapSymbol.vue?6c45","webpack:///./src/views/mapSymbol.vue?44a5","webpack:///src/views/mapSymbol.vue","webpack:///./src/views/mapSymbol.vue?fb3c","webpack:///./src/views/mapSymbol.vue"],"names":["_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_mapSymbol_vue_vue_type_style_index_0_id_8391ab4e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_mapSymbol_vue_vue_type_style_index_0_id_8391ab4e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","attrs","id","mapSymbolvue_type_script_lang_js_","name","data","map","view","layers","symbolLayer","features","smile","featureArr","events","eventName","time","reignTitle","placeString","placeCoordinate","methods","preDefineFeature","e","feature","Feature","geometry","Point","setStyle","Style","text","Text","font","image","Icon","src","push","preDefine","View","center","zoom","projection","layer_Vector","source","Vector","Tile","OSM","createMap","_this","Map","controls","Object","util","attribution","extend","target","on","coordinate","_ol_5_3_1_ol_coordinate","getView","getZoom","$notify","message","type","mounted","h","jquery_default","css","split","toString","views_mapSymbolvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"uIAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAsmBE,EAAG,4CCAzmB,IAAAE,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BH,EAAAI,MAAAC,GAAwB,OAAAL,EAAAM,GAAA,IACzFC,EAAA,YAAoC,IAAAP,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BE,EAAAL,EAAAI,MAAAC,IAAAH,EAAwB,OAAAG,EAAA,OAAAA,EAAA,OAA2BG,MAAA,CAAOC,GAAA,oNCyBrIC,EAAA,CACAC,KAAA,aACAC,KAFA,WAGA,OACAC,IAAA,GACAC,KAAA,GACAC,OAAA,GACAC,YAAA,GACAC,SAAA,CACAC,MAAA,IAEAC,WAAA,GACAC,OAAA,CACA,CACAC,UAAA,eACAC,KAAA,KACAC,WAAA,OACAC,YAAA,WACAC,gBAAA,gBACA,CACAJ,UAAA,mCACAC,KAAA,KACAC,WAAA,OACAC,YAAA,cACAC,gBAAA,mBAKAC,QAAA,CACAC,iBADA,WAGA1B,KAAAkB,WAAAlB,KAAAmB,OAAAP,IAAA,SAAAe,GACA,IAAAC,EAAA,IAAAC,EAAA,MACAC,SAAA,IAAAC,EAAA,KAAAJ,EAAAH,mBAQA,OANAI,EAAAI,SAAA,IAAAC,EAAA,MACAC,KAAA,IAAAC,EAAA,MACAC,KAAA,YACAF,KAAAP,EAAAJ,iBAGAK,IAGA5B,KAAAgB,SAAAC,MAAA,IAAAY,EAAA,MACAC,SAAA,IAAAC,EAAA,+BAEA/B,KAAAgB,SAAAC,MAAAe,SAAA,IAAAC,EAAA,MACAI,MAAA,IAAAC,EAAA,MACAC,IAAA,wBAGAvC,KAAAkB,WAAAsB,KAAAxC,KAAAgB,SAAAC,QAEAwB,UA1BA,WA4BAzC,KAAAa,KAAA,IAAA6B,EAAA,MACAC,OAAA,uBACAC,KAAA,EACAC,WAAA,cAGA7C,KAAAe,YAAA,IAAA+B,EAAA,MACAC,OAAA,IAAAC,EAAA,MACAhC,SAAAhB,KAAAkB,eAGAlB,KAAAc,OAAA,CACA,IAAAmC,EAAA,MACAF,OAAA,IAAAG,EAAA,OAEAlD,KAAAe,cAGAoC,UA9CA,WA8CA,IAAAC,EAAApD,KACAA,KAAAY,IAAA,IAAAyC,EAAA,MACAC,SAAAC,OAAAC,EAAA,KAAAD,CAAA,CACAE,aAAA,IACAC,OAAA,IAKAC,OAAA,MACA9C,KAAAb,KAAAa,KACAC,OAAAd,KAAAc,SAGAd,KAAAY,IAAAgD,GAAA,iBAAAjC,GACA,IAAAkC,EAAAN,OAAAO,EAAA,KAAAP,CAAA5B,EAAAkC,WAAA,GACAjB,EAAAjB,EAAAf,IAAAmD,UAAAC,UACAZ,EAAAa,QAAA,CACAC,QAAAL,EAAA,KAAAjB,EACAuB,KAAA,gBAKAC,QAnGA,WAqGA,IAAAC,EAAAC,IAAA,gBAAAC,IAAA,UACAF,IAAAG,MAAA,SAAAC,WAAA,KACAH,IAAA,QAAAC,IAAA,SAAAF,GAEArE,KAAA0B,mBACA1B,KAAAyC,YACAzC,KAAAmD,cCrIubuB,EAAA,0BCQvbC,EAAgBpB,OAAAqB,EAAA,KAAArB,CACdmB,EACA5E,EACAQ,GACF,EACA,KACA,WACA,MAIeuE,EAAA,WAAAF","file":"js/chunk-77e6eacf.4afb88b2.js","sourcesContent":["import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./mapSymbol.vue?vue&type=style&index=0&id=8391ab4e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./mapSymbol.vue?vue&type=style&index=0&id=8391ab4e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"map\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n  <div id=\"map\"></div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery';\r\nimport {Map, View} from 'ol';\r\nimport TileLayer from 'ol/layer/Tile';\r\nimport OSM from 'ol/source/OSM';\r\nimport {defaults as defaultControls,\r\n        MousePosition,\r\n        Control} from 'ol/control';\r\n\r\nimport {createStringXY, toStringXY} from 'ol/coordinate';\r\n\r\nimport VectorSource from 'ol/source/Vector';\r\nimport VectorLayer from 'ol/layer/Vector';\r\n\r\nimport {Point, MultiPoint, Circle,\r\n        LineString} from 'ol/geom';\r\n\r\nimport Feature from 'ol/Feature';\r\nimport {Style, Icon, Stroke, Fill, Text} from 'ol/style';\r\n\r\nexport default {\r\n  name: 'map-symbol',\r\n  data() {\r\n    return {\r\n      map: {},\r\n      view: {},\r\n      layers: [], // 图层组\r\n      symbolLayer: {}, // 符号层\r\n      features: {\r\n        smile: {},\r\n      },\r\n      featureArr: [],\r\n      events: [\r\n        {\r\n          eventName: '十五岁的李清照到溪亭游玩',\r\n          time: 1098,\r\n          reignTitle: '元符元年',\r\n          placeString: '溪亭（章丘附近）',\r\n          placeCoordinate: [117.53, 36.72], // EPSG:4326(WGS84)，规定东经为正，北纬为正\r\n        },{\r\n          eventName: '十六岁的李清照随父亲李格非由原籍赴汴京，结识文学上的忘年交晁补之',\r\n          time: 1099,\r\n          reignTitle: '元符二年',\r\n          placeString: '汴京（今河南省开封市）',\r\n          placeCoordinate: [114.35, 34.79],\r\n        }\r\n      ],\r\n    }\r\n  }, // data\r\n  methods: {\r\n    preDefineFeature() {\r\n      // 批量操作写在最前\r\n      this.featureArr = this.events.map( e => {\r\n        let feature = new Feature({\r\n          geometry: new Point(e.placeCoordinate)\r\n        });\r\n        feature.setStyle(new Style({\r\n          text: new Text({\r\n            font: '10px 华文行楷',\r\n            text: e.placeString,\r\n          })\r\n        }));\r\n        return feature;\r\n      });\r\n\r\n      this.features.smile = new Feature({\r\n        geometry: new Point([114.306462, 30.538863])\r\n      });\r\n      this.features.smile.setStyle(new Style({\r\n        image: new Icon({\r\n          src: '/image/smile.png'\r\n        })\r\n      })); // Feature 可以设置单独的样式，或者继承 Vector 的样式\r\n      this.featureArr.push(this.features.smile);\r\n    },\r\n    preDefine() {\r\n      // view\r\n      this.view = new View({\r\n        center: [109.204102, 32.717285],\r\n        zoom: 5,\r\n        projection: 'EPSG:4326',\r\n      });\r\n      // layers\r\n      this.symbolLayer = new VectorLayer({\r\n        source: new VectorSource({\r\n          features: this.featureArr\r\n        })\r\n      });\r\n      this.layers = [\r\n        new TileLayer({\r\n          source: new OSM()\r\n        }),\r\n        this.symbolLayer\r\n      ];\r\n    },\r\n    createMap() {\r\n      this.map = new Map({\r\n        controls: defaultControls({\r\n          attribution: false\r\n        }).extend([\r\n          // new MousePosition({\r\n          //   coordinateFormat: createStringXY(5)\r\n          // })\r\n        ]),\r\n        target: 'map',\r\n        view: this.view,\r\n        layers: this.layers,\r\n      });\r\n      // 监听鼠标点击事件\r\n      this.map.on('click', e => {\r\n        let coordinate = toStringXY(e.coordinate, 6);\r\n        let zoom = e.map.getView().getZoom();\r\n        this.$notify({\r\n          message: coordinate + ', ' + zoom,\r\n          type: 'success'\r\n        });\r\n      });\r\n    }\r\n  }, // methods\r\n  mounted() {\r\n    // 获取屏高方法\r\n    let h = $('.content-box').css('height');\r\n    h = (h.split('px')[0]).toString() + 'px';\r\n    $('#map').css('height', h);\r\n\r\n    this.preDefineFeature(); // 预定义特征集\r\n    this.preDefine();        // 预定义地图要素\r\n    this.createMap();        // 创建地图\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#map {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n#select-draw-type {\r\n  position: absolute;\r\n  top: 0.5em;\r\n  left: 3.0em;\r\n}\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./mapSymbol.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./mapSymbol.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mapSymbol.vue?vue&type=template&id=8391ab4e&scoped=true&\"\nimport script from \"./mapSymbol.vue?vue&type=script&lang=js&\"\nexport * from \"./mapSymbol.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mapSymbol.vue?vue&type=style&index=0&id=8391ab4e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8391ab4e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}